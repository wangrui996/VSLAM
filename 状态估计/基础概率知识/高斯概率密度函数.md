# 基础概率知识——高斯概率密度函数  

## 高斯概率密度函数  


### 一维高斯分布  
下图摘自《机器人中的状态估计》  
<p align="center"><img src="https://user-images.githubusercontent.com/58176267/146128288-9dced0a9-bcd5-4200-87df-83b2dce53063.png"></p>  

## 高维高斯分布  

<p align="center"><img src="https://user-images.githubusercontent.com/58176267/146128926-d029bf38-abad-408a-9e5d-20f60a83019d.png"></p>  

**物理意义：**    

均值：对应了概率密度函数中最高点位置  
协方差矩阵：决定了在各个轴上(因为是多维)椭圆的形状  

**性质：**  

### 1.协方差矩阵是对称正定矩阵？ 为什么？  
证明过程看状态估计课程第一章pdf;    
根据pdf内容，协方差矩阵是这样的形式：  
这里的A是一个可逆矩阵，相当于在一个标准正态分布基础上做一个线性变换(因此要求是可逆的)  

<p align="center"><img src="https://user-images.githubusercontent.com/58176267/146130800-d9eb840b-bc42-4dcf-bb18-490347582ecd.png"></p>  

* 所以协方差矩阵是一个对称矩阵 (可以根据对称矩阵的定义直接证明)  

* 因为正定矩阵是定义在实对称矩阵上的，现在协方差矩阵是对称的，那它是否是正定的呢？    
* 根据正定矩阵的定义，需要判断下面这个式子是否成立：  
 
<p align="center"><img src="https://user-images.githubusercontent.com/58176267/146135709-d72447de-c3e4-42fa-a18f-2247587b9aae.png"></p>    

* 这里假设A是n维的，由于x是非零向量，A是可逆的所以Ax是非零向量(可以用反证法证明)，所以上式Ax的转置乘Ax一定大于0(没有A是可逆的这个条件，结果可能为0)    

* 注：估计出来的协方差不能保证正定性  

## 联合高斯分布  

* 下图的公式是状态估计中非常重要的地方,是后续很多内容的理论基础  
* 在已知联合分布的基础上,如图中第一个公式；因为由贝叶斯公式可以把联合分布和条件分布边缘分布的关系写出来，实际中主要关注怎么把条件概率边缘概率写出来，即高斯推断  

<p align="center"><img src="https://user-images.githubusercontent.com/58176267/146137793-ba09011a-5817-443d-aeea-1889e94c59e2.png"></p>    


### 舒尔补  

**重点：** 看第一章pdf舒尔补推导的过程,最后推完结论就是：  

<p align="center"><img src="https://user-images.githubusercontent.com/58176267/146141563-cf29aa00-1541-4089-ac53-bf094536ab7d.png"></p>     

**实际用途：** 
* 已经知道联合分布p(x,y)中矩阵块的形式，和p(y), 求p(x|y)  
* 根据上图中最后结论，条件分布p(x|y)相较于p(x)来说，均值发生了变化，协方差矩阵小了，物理意义上就相当于x的状态在加上了y的观测后，更加确定了  
* 实际应用中，联合分布p(x,y)通常是由传感器的测量模型可以得到，如果再知道x，y自己的分布，怎么去写出他们的条件分布，这就是一个理论指导
* VIO中的边缘化是它的一种具体形式  

### 高斯分布的独立性和不相关性  

**高斯分布的不相关性等价于独立性**  证明见pdf


### 高斯分布的线性变换  

<p align="center"><img src="https://user-images.githubusercontent.com/58176267/146144021-ab37ce3a-50a7-4f86-be57-5685508115d4.png"></p>      


### 高斯分布的归一化积  

 
### SMW恒等式  

* SMW恒等式是一组矩阵变换恒等式，在卡尔曼滤波中用来简化矩阵乘积之逆  
* SMW推导： 见第一章pdf  任意可逆矩阵A都可以分解乘LDU或UDL形式(初等行变换和列变换消掉一部分元素变成对角矩阵, 初等行变换相等于左乘一个初等矩阵)   L：下三角形式 D：对角形式  U：上三角



### 高斯分布的非线性变换  

* 高斯分布的非线性变换，如 y = g(x) + N(0, R) , x为高斯分布;  N(0, R)为高斯白噪声
* 这时p(y)的分布是很难说的，基本上不会再是一个高斯分布;
* p(y|x)是一个高斯分布：  

<p align="center"><img src="https://user-images.githubusercontent.com/58176267/146174449-d11568a5-46fe-40ca-9d65-f5baf20f5424.png"></p>      
其中g()是一个非线性映射，且受噪声为R的干扰(默认R是对称正定的)

**理解：为什么p(y|x)是一个高斯分布？**  


#### 怎样描述p(y)  

* 很多时候x甚至无法解析的写成y的表达式  
* 通常处理方式是：再某个工作点处(例如x的均值)进行线性化，近似的看成线性变换  













